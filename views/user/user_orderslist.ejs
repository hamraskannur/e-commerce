<%- include( '../includes/user_includes/head.ejs' ) %>
<%-include('../includes/user_includes/navegation.ejs')%>


<section style="margin-top:8rem ;" class="h-100 gradient-custom ">
    <div class="container ">
    <div class="card-body p-4  ">
        <% if( orders ) { %>
            <% for(element of orders) { %>
        <div style="border-style: solid;" class="card shadow-0 border mb-4">
          <div class="card-body">
            <div style="color: black;" class="row">
              <div class="col-md-2">
                <img src="https://www.shutterstock.com/image-vector/shipping-fast-delivery-man-riding-600w-1145000942.jpg"
                  class="img-fluid" alt="Phone">
              </div>
              <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                <% for(userdetails of element.userdetails) { %>
                <p  class="text mb-0">Name : <%=userdetails.Name%><br> Address:<%=userdetails.Address%></p>
                <% } %>
              </div>
              <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                <p class="text mb-0 small">Date:<%=element.date%><br>Time:<%=element.time%></p>
              </div>
              <div class="col-md-2 text-center justify-content-center align-items-center mt-5">
                <p class="text mb-0 small">Payment: <%=userdetails.Payment%></p><br>
                <p class="text mb-0 small">Order Status: <%=element.orderStatus%></p>
              </div>
              <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                <p class="text mb-0 small">Total price: <%=element.totalprice%></p>
              </div>
         
              <div class="col-md-2 text-center  justify-content-center align-items-center">
                <% if( element.orderStatus === "canceled"  ) { %>
                    <a href="/getOrdersProduct/<%=element._id%>"  type="button" class="btn btn-primary mt-3 text-white mt-3"><i class="icon-cart-add mr-2"></i>produts</a>
                    <a href="/cancel-order/<%=element._id%>" type="button" class="btn btn-secondary mt-2 text-white mt-2"><i class="icon-cart-add mr-2"></i>Reorder</a>
     
                <%}else if(element.orderStatus === "pending"  ){%>
                    <a href="/getOrdersProduct/<%=element._id%>"  type="button" class="btn btn-primary mt-3 text-white mt-3"><i class="icon-cart-add mr-2"></i>produts</a>
                    <a href="/cancel-order/<%=element._id%>" type="button" class="btn btn-secondary mt-2 text-white mt-2"><i class="icon-cart-add mr-2"></i>Reorder</a>
                
                    <%}else{%>
                        <a href="/getOrdersProduct/<%=element._id%>"  type="button" class="btn btn-primary mt-3 text-white mt-3"><i class="icon-cart-add mr-2"></i>produts</a>
                        <button onclick="cancelOrder('<%=element._id%>')" type="button" class="btn btn-danger mt-2 text-white mt-2"><i class="icon-cart-add mr-2"></i>Cancel Order</button>
         
                <% } %>
              </div>
            </div>
            <hr class="mb-4" style="background-color: #e0e0e0; opacity: 1;">
            <div class="row d-flex align-items-center">
              <div class="col-md-2">
                <p class="text-muted mb-0 small">placed</p>
              </div>
              <div class="col-md-10">

          
                <% if( element.orderStatus === "placed" ) { %>
                    <div class="progress" style="height: 6px; border-radius: 16px;">
                      <div class="progress-bar" role="progressbar"
                        style="width: 25%; border-radius: 16px; background-color: #a8729a;" aria-valuenow="65"
                        aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
             <% } %>
                <% if( element.orderStatus === "Shipped" ) { %>
                    <div class="progress" style="height: 6px; border-radius: 16px;">
                      <div class="progress-bar" role="progressbar"
                        style="width:65%; border-radius: 16px; background-color: #a8729a;" aria-valuenow="65"
                        aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                <% } %>
               
                <% if( element.orderStatus === "delivered" ) { %>
                            <div class="progress" style="height: 6px; border-radius: 16px;">
                              <div class="progress-bar" role="progressbar"
                                style="width: 100%; border-radius: 16px; background-color: #a8729a;" aria-valuenow="65"
                                aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                <% } %>

                <div class="d-flex justify-content-around mb-1">
                  <p class="text-muted mt-1 mb-0 small ms-xl-5">Shipped</p>
                  <p  class="text mt-1 mb-0 small ms-xl-5">delivered </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <% } %>
        <% }%>

    </div>
      </div>
  </section>









<%- include( '../includes/user_includes/end.ejs' ) %>
